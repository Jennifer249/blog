<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>写文章</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" href="img/favicon.png" />
	<link rel="stylesheet" type="text/css" href="../css/normalize.css">
	<link rel="stylesheet" type="text/css" href="../css/common.css">
	<link rel="stylesheet" type="text/css" href="../css/console.css">
    <link rel="stylesheet" type="text/css" href="../css/markdown.css">
    <script src="../js/showdown.min.js"></script>
</head>
<body>
	<div class="editor">
		<div class="editor-line d-flex">
		    <a href="./statistics.html">&#60; 返回</a>
		    <input type="text" placeholder="输入文章标题" class="d-flex">
		    <div class="editor-button d-flex">
			    <button>发布文章</button>
			    <button>保存草稿</button>
		    </div>
		</div>
		<div id="editor-area" class=" d-flex">
		    <textarea id="md-area" onkeyup=mdConverter()></textarea>
		    <article id="view-area" class="markdown-body">
		    </article>
		</div>
	</div>
	
	<script>
	    function mdConverter() {
	        // var md = document.getElementById("md-area").innerHTML;
	        var md = document.getElementById("md-area").value;
	        var converter = new showdown.Converter();  //增加拓展table
	        converter.setOption('tables', true);  //启用表格选项。从showdown 1.2.0版开始，表支持已作为可选功能移入核心拓展，showdown.table.min.js扩展已被弃用
	        var view = converter.makeHtml(md);
	        document.getElementById("view-area").innerHTML = view;

	        scrollBottom();
	    }
	    // 滚动条置底
	    function scrollBottom() {
	    	var div = document.getElementById('view-area');
	    	div.scrollTop = div.scrollHeight;
	    }
</script>
</body>
</html>